(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{156:function(e,t){},158:function(e,t){},177:function(e,t,a){},178:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a(10),c=a.n(i),r=a(15),s=a(222),o=a(213),l=a(224),d=a.p+"static/media/logo.14b6b15b.png",j=a(101),b=a(214),u=a(179),m=a(227),O=a(23),x=a(102),p=a(67),f=a.n(p),h=a(4),g=Object(n.createContext)(),v=Object(x.io)(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_HOST),y=function(e){var t=e.children,a=Object(n.useState)(!1),i=Object(O.a)(a,2),c=i[0],r=i[1],s=Object(n.useState)(!1),o=Object(O.a)(s,2),l=o[0],d=o[1],j=Object(n.useState)(),b=Object(O.a)(j,2),u=b[0],m=b[1],x=Object(n.useState)(""),p=Object(O.a)(x,2),y=p[0],C=p[1],w=Object(n.useState)({}),N=Object(O.a)(w,2),S=N[0],k=N[1],T=Object(n.useState)(""),E=Object(O.a)(T,2),D=E[0],P=E[1],R=Object(n.useRef)(),I=Object(n.useRef)(),_=Object(n.useRef)();Object(n.useEffect)((function(){navigator.mediaDevices.getUserMedia({video:!0,audio:!0}).then((function(e){m(e),R.current.srcObject=e})),v.on("me",(function(e){return P(e)})),v.on("callUser",(function(e){var t=e.from,a=e.name,n=e.signal;k({isReceivingCall:!0,from:t,name:a,signal:n})}))}),[]);return Object(h.jsx)(g.Provider,{value:{call:S,callAccepted:c,myVideo:R,userVideo:I,stream:u,name:y,setName:C,callEnded:l,me:D,callUser:function(e){var t=new f.a({initiator:!0,trickle:!1,stream:u});t.on("signal",(function(t){v.emit("callUser",{userToCall:e,signalData:t,from:D,name:y})})),t.on("stream",(function(e){I.current.srcObject=e})),v.on("callAccepted",(function(e){r(!0),t.signal(e)})),_.current=t},leaveCall:function(){d(!0),_.current.destroy(),window.location.reload()},answerCall:function(){r(!0);var e=new f.a({initiator:!1,trickle:!1,stream:u});e.on("signal",(function(e){v.emit("answerCall",{signal:e,to:S.from})})),e.on("stream",(function(e){I.current.srcObject=e})),e.signal(S.signal),_.current=e}},children:t})};function C(e){return Object(h.jsx)(l.a,Object(j.a)({elevation:6,variant:"filled"},e))}var w=Object(o.a)((function(e){return{video:Object(r.a)({width:"550px"},e.breakpoints.down("xs"),{width:"300px"}),gridContainer:Object(r.a)({justifyContent:"center"},e.breakpoints.down("xs"),{flexDirection:"column"}),paper:{padding:"10px",margin:"10px"}}})),N=function(){var e=Object(n.useContext)(g),t=e.name,a=e.callAccepted,i=e.myVideo,c=e.userVideo,r=e.callEnded,s=e.stream,o=e.call,l=w();return Object(h.jsxs)(b.a,{container:!0,className:l.gridContainer,children:[s?Object(h.jsxs)(u.a,{className:l.paper,children:[Object(h.jsx)(C,{severity:"success",children:t||"Name"}),Object(h.jsx)(b.a,{item:!0,xs:12,md:6,children:Object(h.jsx)("video",{playsInline:!0,muted:!0,ref:i,autoPlay:!0,className:l.video})})]}):Object(h.jsx)(u.a,{className:l.paper,children:Object(h.jsx)(b.a,{item:!0,children:Object(h.jsxs)(C,{severity:"error",children:[Object(h.jsx)(m.a,{children:"Permission needed"}),"Please grant the access of camera and microphone. ",Object(h.jsx)("strong",{children:"Then refresh the tab"})]})})}),a&&!r&&Object(h.jsxs)(u.a,{className:l.paper,children:[Object(h.jsx)(C,{severity:"success",children:o.name||"Name"}),Object(h.jsx)(b.a,{item:!0,xs:12,md:6,children:Object(h.jsx)("video",{playsInline:!0,ref:c,autoPlay:!0,className:l.video})})]})]})},S=a(215),k=a(223),T=a(217),E=a(108),D=a(218),P=a(219),R=a(220),I=a(59),_=Object(o.a)((function(e){return{root:{display:"flex",flexDirection:"column"},gridContainer:Object(r.a)({width:"100%"},e.breakpoints.down("xs"),{flexDirection:"column"}),container:Object(r.a)({width:"600px",margin:"35px 0",padding:0},e.breakpoints.down("xs"),{width:"80%"}),margin:{marginTop:20},padding:{padding:20},paper:{padding:"10px 20px"}}})),A=function(){var e=Object(n.useContext)(g),t=e.me,a=e.callAccepted,i=e.name,c=e.setName,r=e.callEnded,s=e.leaveCall,o=e.callUser,d=Object(n.useState)(""),j=Object(O.a)(d,2),m=j[0],x=j[1],p=_();return Object(h.jsx)(S.a,{className:p.container,children:Object(h.jsx)(u.a,{elevation:1,className:p.paper,children:Object(h.jsx)("form",{className:p.root,noValidate:!0,autoComplete:"off",children:Object(h.jsxs)(b.a,{container:!0,className:p.gridContainer,children:[Object(h.jsxs)(b.a,{item:!0,xs:12,md:6,className:p.padding,children:[Object(h.jsx)(l.a,{variant:"outlined",severity:"info",children:"Please enter your name and roll no. (i.e xyz-123)"}),Object(h.jsx)(k.a,{label:"Name-Roll no",value:i,onChange:function(e){return c(e.target.value)},fullWidth:!0}),Object(h.jsx)(E.CopyToClipboard,{text:t,className:p.margin,children:Object(h.jsx)(T.a,{variant:"contained",fullWidth:!0,startIcon:Object(h.jsx)(D.a,{style:{color:I.a[500]},fontSize:"large"}),children:"Generate code"})})]}),Object(h.jsxs)(b.a,{item:!0,xs:12,md:6,className:p.padding,children:[Object(h.jsx)(l.a,{variant:"outlined",severity:"info",children:"Please enter the code shared by administration"}),Object(h.jsx)(k.a,{label:"Enter Code",value:m,onChange:function(e){return x(e.target.value)},fullWidth:!0}),a&&!r?Object(h.jsx)(T.a,{variant:"contained",color:"secondary",startIcon:Object(h.jsx)(P.a,{fontSize:"large"}),fullWidth:!0,onClick:s,className:p.margin,children:"Leave the meeting"}):Object(h.jsx)(T.a,{variant:"contained",style:{backgroundColor:I.a[500]},startIcon:Object(h.jsx)(R.a,{fontSize:"large"}),fullWidth:!0,onClick:function(){return o(m)},className:p.margin,children:"Join meeting"})]})]})})})})},W=a(109),B=a.n(W),U=Object(o.a)((function(){return{"@keyframes blinker":{from:{opacity:1},to:{opacity:0}},headerGT:{animationName:"$blinker",animationDuration:"1s",animationTimingFunction:"linear",animationIterationCount:"infinite",color:"red"}}})),V=function(){var e=Object(n.useContext)(g),t=e.answerCall,a=e.call,i=e.callAccepted,c=U();return Object(h.jsx)(h.Fragment,{children:a.isReceivingCall&&!i&&Object(h.jsxs)("div",{style:{display:"flex",justifyContent:"space-around"},children:[Object(h.jsxs)("h1",{className:c.headerGT,children:[a.name," is calling: \xa0"]}),Object(h.jsx)(T.a,{variant:"contained",style:{backgroundColor:I.a[500]},startIcon:Object(h.jsx)(B.a,{fontSize:"large"}),onClick:t,children:"Allow"})]})})},z=a(221),K=a(111),F=a.n(K),H=a(226),G=Object(o.a)((function(e){return{fab:{margin:e.spacing(2)},absolute:Object(r.a)({position:"absolute",bottom:e.spacing(50),left:e.spacing(3)},e.breakpoints.down("xs"),{bottom:e.spacing(2),left:e.spacing(1),width:"10px"})}}));function J(){var e=G();return Object(h.jsx)("div",{children:Object(h.jsx)(H.a,{title:"Contributed by : Kunal Kumar 11492 (Btech cse).","aria-label":"add",children:Object(h.jsx)(z.a,{className:e.absolute,children:Object(h.jsx)(F.a,{})})})})}var L=Object(o.a)((function(e){return{appBar:Object(r.a)({borderRadius:0,margin:"0px 0px",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",width:"100%",border:"none",background:"#0c477f"},e.breakpoints.down("xs"),{width:"100%"}),image:Object(r.a)({},e.breakpoints.down("xs"),{width:"70%"}),alertBox:{margin:"20px"},wrapper:{display:"flex",flexDirection:"column",alignItems:"center",width:"100%"}}})),M=function(){var e=L();return Object(h.jsxs)("div",{className:e.wrapper,children:[Object(h.jsx)(s.a,{className:e.appBar,position:"static",color:"inherit",children:Object(h.jsx)("img",{className:e.image,src:d})}),Object(h.jsx)(l.a,{className:e.alertBox,severity:"info",children:"Viva room : please wait for your turn (Meeting will be start on given time by your professor)."}),Object(h.jsx)(V,{}),Object(h.jsx)(N,{}),Object(h.jsx)(J,{}),Object(h.jsx)(A,{})]})};a(177);c.a.render(Object(h.jsx)(y,{children:Object(h.jsx)(M,{})}),document.getElementById("root"))}},[[178,1,2]]]);
//# sourceMappingURL=main.07002c31.chunk.js.map